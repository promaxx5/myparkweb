<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments/head :: head}"></head>

<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<main class="container">

    <div class="grid" style="margin-bottom: 50px; align-items: center;">
        <div>
            <h1 style="font-size: 3rem; font-weight: 800; line-height: 1.2; margin-bottom: 20px;">
                –ù–∞–π–¥–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—É—é –ø–∞—Ä–∫–æ–≤–∫—É <span style="color: #1095c1;">—Ä—è–¥–æ–º —Å –≤–∞–º–∏</span>
            </h1>
            <p style="font-size: 1.1rem; margin-bottom: 30px; color: #6c757d;">
                –ë—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –º–µ—Å—Ç–∞ –∑–∞—Ä–∞–Ω–µ–µ –∏–ª–∏ —Å–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ, –ø–æ–∫–∞ –≤—ã –Ω–∞ —Ä–∞–±–æ—Ç–µ. –ë–µ–∑–æ–ø–∞—Å–Ω–æ, —É–¥–æ–±–Ω–æ, –≤—ã–≥–æ–¥–Ω–æ.
            </p>

            <div class="grid" style="max-width: 400px; gap: 15px;">
                <a href="/parkings" role="button" class="contrast">üîç –ù–∞–π—Ç–∏ –º–µ—Å—Ç–æ</a>

                <a href="/parkings/add"
                   role="button"
                   class="secondary outline"
                   sec:authorize="hasAnyRole('OWNER', 'BOTH', 'ADMIN', 'MODERATOR')">
                    ‚ûï –°–¥–∞—Ç—å –º–µ—Å—Ç–æ
                </a>
            </div>
        </div>

        <div style="padding-left: 20px;">

            <div style="margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
                <hgroup style="margin-bottom: 0;">
                    <h4 style="margin: 0;">üî• –°–µ–π—á–∞—Å –≤ —Ç–æ–ø–µ</h4>
                    <small style="color: #8b9bb4;">–í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</small>
                </hgroup>
                <a href="/parkings" style="font-size: 0.8rem; text-decoration: none; color: #1095c1;">–í—Å–µ ‚Üí</a>
            </div>

            <article th:if="${#lists.isEmpty(trendingParkings)}" style="padding: 20px; text-align: center; color: gray; border: 1px dashed #444;">
                <p style="margin:0;">–î–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞ –Ω–µ—Ç üìâ</p>
            </article>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">

                <article th:each="p : ${trendingParkings}"
                         style="padding: 0; overflow: hidden; border-radius: 12px; background-color: #161f27; border: 1px solid #2d3748; display: flex; flex-direction: column; height: 100%;">

                    <div style="height: 8px; background: linear-gradient(90deg, #ff5722, #ff9800);"></div>

                    <div style="padding: 15px; display: flex; flex-direction: column; flex-grow: 1;">

                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
                            <a th:href="@{/parkings/{id}(id=${p.id})}"
                               style="text-decoration: none; font-weight: bold; color: #e2e8f0; line-height: 1.2; font-size: 1rem;">
                                <span th:text="${p.name}">–ù–∞–∑–≤–∞–Ω–∏–µ</span>
                            </a>
                            <span style="background: rgba(255, 152, 0, 0.15); color: #ff9800; padding: 2px 6px; border-radius: 6px; font-size: 0.75rem; font-weight: bold; white-space: nowrap;">
                                ‚òÖ <span th:text="${p.averageRating}">5.0</span>
                            </span>
                        </div>

                        <div style="color: #718096; font-size: 0.8rem; margin-bottom: 15px; flex-grow: 1;">
                            üìç <span th:text="${p.address}">–ê–¥—Ä–µ—Å</span>
                        </div>

                        <div style="padding-top: 10px; border-top: 1px dashed #2d3748; display: flex; align-items: center; justify-content: space-between;">
                            <div style="font-size: 0.9rem;">
                                <b style="color: #4fd1c5;" th:text="${p.pricePerHour}">100</b> <span style="font-size: 0.7rem; color: gray;">‚ÇΩ/—á</span>
                            </div>
                            <a th:href="@{/bookings/create/{id}(id=${p.id})}"
                               role="button"
                               class="outline"
                               style="padding: 4px 10px; font-size: 0.75rem; border-radius: 20px; border-width: 1px;">
                                –ë—Ä–æ–Ω—å
                            </a>
                        </div>
                    </div>
                </article>

            </div>
        </div>
    </div>

    <hr style="margin: 40px 0;">

    <article>
        <header>üöÄ –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</header>
        <form action="/parkings" method="get" style="display: flex; gap: 10px; margin-bottom: 0;">
            <input type="search" name="search" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, '–¶–µ–Ω—Ç—Ä')..." style="margin-bottom: 0;">
            <button type="submit" style="width: auto;">–ù–∞–π—Ç–∏</button>
        </form>
    </article>

</main>

<footer th:replace="~{fragments/footer :: footer}"></footer>

</body>
</html>